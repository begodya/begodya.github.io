<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="『修身养性，寻找灵感』">
<meta property="og:type" content="website">
<meta property="og:title" content="Begodya">
<meta property="og:url" content="http://begodya.com/index.html">
<meta property="og:site_name" content="Begodya">
<meta property="og:description" content="『修身养性，寻找灵感』">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Begodya">
<meta name="twitter:description" content="『修身养性，寻找灵感』">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://begodya.com/"/>





  <title>Begodya</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  















  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Begodya</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://begodya.com/2018/01/24/architecture/微信小程序/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Bei Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars3.githubusercontent.com/u/4849945?v=3&u=2fc94e38699ed5ca25f46fe2c62682991c8faa21&s=400">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Begodya">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/24/architecture/微信小程序/" itemprop="url">微信小程序</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-24T11:49:26+08:00">
                2018-01-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="小程序推广方式"><a href="#小程序推广方式" class="headerlink" title="小程序推广方式"></a>小程序推广方式</h4><ol>
<li>关联公众号：同一主体可关联10个小程序，不同主体可关联3个小程序，小程序可关联500个公众号</li>
<li>非关联公众号：二维码（数量10万、永久有效）、小程序码（数量无限制、永久有效）</li>
</ol>
<h4 id="小程序进入场景（五十）"><a href="#小程序进入场景（五十）" class="headerlink" title="小程序进入场景（五十）"></a>小程序进入场景（五十）</h4><blockquote>
<ul>
<li>1001: 发现栏小程序主入口</li>
<li>1005: 顶部搜索框的搜索结果页</li>
<li>1006: 发现栏小程序入口搜索框的搜索结果页</li>
<li>1007: 单人聊天会话中的小程序消息卡片</li>
<li>1008: 群聊会话中的小程序消息卡片</li>
<li>1011: 扫描二维码</li>
<li>1012: 长按图片识别二维码</li>
<li>1013: 手机相册选取二维码</li>
<li>1014: 小程序模版消息</li>
<li>1017: 前往体验版的入口页</li>
<li>1019: 微信钱包</li>
<li>1020: 公众号profile页相关小程序列表</li>
<li>1022: 聊天顶部置顶小程序入口</li>
<li>1023: 安卓系统桌面图标</li>
<li>1024: 小程序profile页</li>
<li>1025: 扫描一维码</li>
<li>1026: 附近小程序列表</li>
<li>1027: 顶部搜索框搜索结果页“使用过的小程序”列表</li>
<li>1028: 我的卡包</li>
<li>1029: 卡券详情页</li>
<li>1031: 长按图片识别一维码</li>
<li>1032: 手机相册选取一维码</li>
<li>1034: 微信支付完成页</li>
<li>1035: 公众号自定义菜单</li>
<li>1036: App分享消息卡片</li>
<li>1037: 从小程序进入</li>
<li>1038: 从小程序返回</li>
<li>1039: 摇电视</li>
<li>1042: 添加好友搜索框的搜索结果页</li>
<li>1043: 公众号模板消息</li>
<li>1044: 带shareTicket的小程序消息卡片</li>
<li>1047: 扫描小程序码</li>
<li>1048: 长按图片识别小程序码</li>
<li>1049: 手机相册选取小程序码</li>
<li>1052: 卡券的适用门店列表</li>
<li>1053: 搜一搜的结果页</li>
<li>1054: 顶部搜索框小程序快捷入口</li>
<li>1056: 音乐播放器菜单</li>
<li>1058: 公众号文章</li>
<li>1059: 体验版小程序绑定邀请页</li>
<li>1064: 微信连Wifi状态栏</li>
<li>1067: 公众号文章广告</li>
<li>1068: 附近小程序列表广告</li>
<li>1072: 二维码收款页面</li>
<li>1073: 客服消息列表下发的小程序消息卡片</li>
<li>1074: 公众号会话下发的小程序消息卡片</li>
<li>1078: 连wifi成功页</li>
<li>1089: 微信聊天主界面下拉</li>
<li>1090: 长按小程序右上角菜单唤出最近使用历史</li>
<li>1092: 城市服务入口</li>
</ul>
</blockquote>
<h4 id="小程序消息推送"><a href="#小程序消息推送" class="headerlink" title="小程序消息推送"></a>小程序消息推送</h4><blockquote>
<p>下发条件说明</p>
</blockquote>
<pre><code>支付

当用户在小程序内完成过支付行为，可允许开发者向用户在7天内推送有限条数的模板消息（1次支付可下发3条，多次支付下发条数独立，互相不影响）

提交表单

当用户在小程序内发生过提交表单行为且该表单声明为要发模板消息的，开发者需要向用户提供服务时，可允许开发者向用户在7天内推送有限条数的模板消息（1次提交表单可下发1条，多次提交下发条数独立，相互不影响）
</code></pre><p>突破小程序推送限制做法：</p>
<p><img src="http://img.mp.itc.cn/upload/20170726/7eeeb27b5ab64cb0b2da399d006556e6.jpg" alt=""></p>
<h4 id="小程序与公众号、APP之跳转"><a href="#小程序与公众号、APP之跳转" class="headerlink" title="小程序与公众号、APP之跳转"></a>小程序与公众号、APP之跳转</h4><p><img src="http://oqleb1k16.bkt.clouddn.com/18-1-27/63671553.jpg" alt=""></p>
<ul>
<li>官方支持公众号关联小程序进行跳转：</li>
</ul>
<ol>
<li>公众号介绍页：相关小程序</li>
<li>公众号自定义菜单：可设置一级菜单或二级菜单</li>
<li>公众号模板消息：    关联时下发</li>
<li>公众号图文消息：小程序卡片、文字链接、图片链接</li>
</ol>
<ul>
<li>官方暂不支持小程序跳转公众号操作，可通过小程序内客服进行自动推送公众号推文，文内有公众号二维码信息，可引导用户长按扫描后，即可跳转到对应公众号进行关注操作；但目前因小程序页面路径控制（限制五层），iOS在第二层页面之后进行跳转客服引导关注，会导致下次从小程序快捷入口进来后，当前页面会冻结，无法进行交互。</li>
</ul>
<p><img src="https://mp.weixin.qq.com/debug/wxadoc/dev/image/launch-app.png?t=2018125" alt=""></p>
<ul>
<li><p>APP可通过分享方式，在微信内打开小程序。</p>
</li>
<li><p>小程序在从APP分享至微信的小程序页面，用户访问时支持打开来源应用。在一个小程序的生命周期内，只有在特定条件下，才具有打开 APP 的能力。<code>打开 APP 的能力</code>可以理解为由小程序框架在内部管理的一个状态，为 true 则可以打开 APP，为 false 则不可以打开 APP。 </p>
</li>
</ul>
<blockquote>
<pre><code> 在小程序的生命周期内，这个状态的初始值为 false，之后会随着小程序的每次打开（无论是启动还是切到前台）而改变：  

当小程序从 1036（App 分享消息卡片） 打开时，该状态置为 true。
当小程序从 1089（微信聊天主界面下拉）或 1090（长按小程序右上角菜单唤出最近使用历史）的场景打开时，该状态不变，即保持上一次打开小程序时该状态的值。
当小程序从非 1036/1089/1090 的场景打开，该状态置为 false。
</code></pre></blockquote>
<h4 id="手机操作系统、APP、小程序、H5之关系"><a href="#手机操作系统、APP、小程序、H5之关系" class="headerlink" title="手机操作系统、APP、小程序、H5之关系"></a>手机操作系统、APP、小程序、H5之关系</h4><p>手机操作系统 = S座</p>
<p>APP = 公司</p>
<p>小程序 = 小e微店</p>
<p>H5 = 海报</p>
<p>手机操作系统就相当于S座楼，楼内的每家公司就相当于各个APP，善诊公司相当于微信APP，公司内的小e微店就相当于小程序，零食区所拥有的空间相当于小程序的2M空间，后面又扩展出咖啡售卖区就相当于小程序分包机制，可扩展到4M；H5相当于海报，理论上可张贴于公司的各个位置。</p>
<p>目前，小程序所属于微信，未来大一统的形态，可能是小程序形成SDK，各家APP均可按需嵌入自己需要关联的小程序，形成更大的关系网。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://begodya.com/2017/10/09/world/川渝行/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Bei Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars3.githubusercontent.com/u/4849945?v=3&u=2fc94e38699ed5ca25f46fe2c62682991c8faa21&s=400">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Begodya">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/09/world/川渝行/" itemprop="url">世界迷雾之十一川渝行</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-09T15:54:15+08:00">
                2017-10-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="规划"><a href="#规划" class="headerlink" title="规划"></a>规划</h2><p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/35311761.jpg" alt=""></p>
<h2 id="时间"><a href="#时间" class="headerlink" title="时间"></a>时间</h2><p>2017年9月30日-2017年10月7日 更改为 2017年9月30日-2017年10月6日<br><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/81286150.jpg" alt=""></p>
<p>从九月初就开始用穷游助手规划行程：<a href="http://plan.qyer.com/trip/V2UJYlFvBzdTbVI3CmkNNg/?campaign=app_share_plan&amp;category=myplan_weixin&amp;client_id=qyer_planner_ios&amp;share_platform=myplan_weixin&amp;style=deepgreen&amp;track_user_id=9418556" target="_blank" rel="external">十一川渝行</a></p>
<h2 id="第一站：成都（9-30-10-1）"><a href="#第一站：成都（9-30-10-1）" class="headerlink" title="第一站：成都（9.30-10.1）"></a>第一站：成都（9.30-10.1）</h2><p>中午十二点左右从浦东国际机场乘机，到成都双流机场下午三点左右，打车到酒店休息了半个小时，就乐颠颠的骑着小黄车奔去锦里了，也就五点左右了，里面逛了逛，吃了些小吃，之前同事推荐去附近的皇城坝尝尝地产的成都美食。后来才想起来，夜色下的锦里才是最美的啊~</p>
<ul>
<li>锦里</li>
</ul>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/21062154.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/65027791.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/77256860.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/39515258.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/26687082.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/54589198.jpg" alt=""></p>
<ul>
<li>武侯祠</li>
</ul>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/51335056.jpg" alt=""></p>
<ul>
<li>皇城坝</li>
</ul>
<p>做美食直播的<br><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/24459082.jpg" alt=""></p>
<p>点了一份甜水面<br><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/32306857.jpg" alt=""></p>
<ul>
<li>钢管厂</li>
</ul>
<p>在去酒店的出租上，司机师傅推荐成都的钢管厂串串，皇城坝出来后就在寻觅着，真是物美价廉…<br><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/33267310.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/83815322.jpg" alt=""></p>
<ul>
<li>熊猫基地</li>
</ul>
<p>十月一号早上八点就跟着简途旅行从宽窄巷子出发，开车将近四十分钟到达熊猫基地，一起去一睹国宝的风采。</p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/46439784.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/73561890.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/52524931.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/9753954.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/95987309.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/96856872.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/23171991.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/6256145.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/35696951.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/70523918.jpg" alt=""></p>
<ul>
<li>小龙坎（耍都店）</li>
</ul>
<p>从熊猫基地返回宽窄巷子的时候，差不多下午两点，在门口的廖记棒棒鸡吃了些，回到酒店休息会，就估摸着去尝尝火爆的小龙坎，火锅底料真不错，不过菜就觉得不是太新鲜了…</p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/14354094.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/34427124.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/18646684.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/58378206.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/96437093.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/72669350.jpg" alt=""></p>
<ul>
<li>宽窄巷子（厕所串串）</li>
</ul>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/88189535.jpg" alt=""></p>
<ul>
<li>九眼桥酒吧</li>
</ul>
<p>晚上吃完小龙坎，寻思着明天要离开成都了，就骑着小黄车去九眼桥酒吧坐了会儿，太商业化了…</p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/38877856.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/97316563.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/94540051.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/94225801.jpg" alt=""></p>
<h2 id="第二站：海螺沟（10-2-10-4）"><a href="#第二站：海螺沟（10-2-10-4）" class="headerlink" title="第二站：海螺沟（10.2-10.4）"></a>第二站：海螺沟（10.2-10.4）</h2><p>十月二号上午十点，和其他六个人一起拼车去海螺沟，这一路将近八百公里，开了将近九个小时，晚上七点左右才到磨西小镇。</p>
<ul>
<li>磨西小镇</li>
</ul>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/54729386.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/56242164.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/29340126.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/82514758.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/6254174.jpg" alt=""></p>
<ul>
<li>竹影农庄</li>
</ul>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/40518041.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/47865357.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/37907724.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/26494132.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/10366058.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/87293981.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/70481539.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/30643778.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/29496428.jpg" alt=""></p>
<ul>
<li>海螺沟冰川公园</li>
</ul>
<p>十月三号，早上乘景区大巴，行驶将近一个小时到达三号营地，今天阴雨，乘索道到四号营地也看不到贡嘎雪山，就徒步到一个半小时去摸摸冰川也不算白来了。这里的空气真是清新，不过运气真是不好，什么也没看到，下午两点多准备返程的时候，说下山道路塌方，在阴雨中等了两个多小时大巴才恢复通车，真是又累又饿…</p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/33891171.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/22517819.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/62078759.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/84455686.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/26813345.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/26027108.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/92071898.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/74860622.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/93921332.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/72670675.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/27212312.jpg" alt=""></p>
<ul>
<li>甘孜-泸定-雅安-峨眉山</li>
</ul>
<p>之前没有预定到从海螺沟到峨眉山的车次，所以十月四号一大早五点半就起床，赶到甘孜客运站</p>
<ol>
<li>甘孜-泸定 早上7点，行驶将近一个半小时，差点没赶上大巴</li>
<li>泸定-雅安 早上8点半，行驶将近四个小时，没赶上中午12点20到峨眉山的大巴</li>
<li>雅安-峨眉山 下午2点20，行驶将近两个小时，下午4点10分左右，终于抵达峨眉山报国寺</li>
</ol>
<h2 id="第三站：峨眉山（10-4-10-5）"><a href="#第三站：峨眉山（10-4-10-5）" class="headerlink" title="第三站：峨眉山（10.4-10.5）"></a>第三站：峨眉山（10.4-10.5）</h2><p>本来估摸着这次来时间不够只能去看看猴子，到酒店稍作休息，四号晚上五点多到报国寺客运站，算了算游览时间，从客运站到雷洞坪三个小时左右，虽然仓促，不上金顶还真是有些不甘心，就预定了往返雷洞坪的大巴。</p>
<p>五号一大早五点起床，乘坐六点的大巴车，赶往雷洞坪。一下车就看到白茫茫的云海，真是人间仙景，不虚此行！</p>
<ul>
<li>报国寺-万国寺-雷洞坪-索道</li>
</ul>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/5649403.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/59887735.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/88221903.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/52559591.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/6483228.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/72279156.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/85357599.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/95275607.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/49774378.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/39917950.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/96128669.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-9/76322252.jpg" alt=""></p>
<ul>
<li>金顶</li>
</ul>
<p>在金顶上逛了一个半小时，要去会会猴子，十一点半开始返程去五显岗…</p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/94114889.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/35658282.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/24515415.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/16740392.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/45147989.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/34056866.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/39288278.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/81754472.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/70667482.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/43868553.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/78575575.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/21579622.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/68542372.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/79265610.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/645296.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/94362163.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/44893757.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/17917687.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/98063587.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/32166427.jpg" alt=""></p>
<ul>
<li>五显岗-清音阁-生态猴区</li>
</ul>
<p>下午一点二十左右抵达，因时间紧迫，走了将近半个小时还没见到，路上接连打听要多久，回复还有十五分钟，走到两点四十，快绝望准备在三点还没见到就必须要返回的时候，终于看到了传说中猖狂的猴群…</p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/69482423.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/15361592.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/67384497.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/75352122.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/77347799.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/36858285.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/7311742.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/22869124.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/14578269.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/18898637.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/88926238.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/98039602.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/74586855.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/7290445.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/69739662.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/2168985.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/13567476.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/14011147.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/10785746.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/25470865.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/92378794.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/58373920.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/41665098.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/64942051.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/42449757.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/8990408.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/97559634.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/29507195.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/60268272.jpg" alt=""></p>
<ul>
<li>峨眉山站-成都东站-重庆北站</li>
</ul>
<p>下午三点从猴区返回，又暴走一个半小时才回到五显岗停车场，下午五点四十一的高铁去重庆，这一路狂奔，到峨眉山站的时候就差十分钟，真是惊险…</p>
<p>坐在高铁上，两人已经气喘吁吁，毫无力气，商量着把重庆的行程缩短一天，退掉了七号的飞机和酒店，在重庆逛一逛就回上海休息了…</p>
<h2 id="第四站：重庆（10-5-10-6）"><a href="#第四站：重庆（10-5-10-6）" class="headerlink" title="第四站：重庆（10.5-10.6）"></a>第四站：重庆（10.5-10.6）</h2><ul>
<li>观音桥步行街</li>
</ul>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/89697521.jpg" alt=""></p>
<ul>
<li>解放碑</li>
</ul>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/62112950.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/64889156.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/5500972.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/67841458.jpg" alt=""></p>
<ul>
<li>洪崖洞</li>
</ul>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/38657999.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/19602873.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/91178233.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/4529761.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/70689562.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/42679374.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/6571918.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/96022159.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/53931885.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/40325827.jpg" alt=""></p>
<ul>
<li>磁器口</li>
</ul>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/6376257.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/98851003.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/33959886.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/94644038.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-10-10/11170067.jpg" alt=""></p>
<p>六号晚上八点重庆江北机场的飞机，十点二十到上海浦东国际机场，预约了携程超级巴士，到家已经十二点多了，这一路终于到家了…</p>
<h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><ul>
<li>做好时间规划</li>
<li>同一地点酒店预定同一家</li>
<li>不要轻易放弃</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://begodya.com/2017/08/01/iOS/iOS App启动优化/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Bei Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars3.githubusercontent.com/u/4849945?v=3&u=2fc94e38699ed5ca25f46fe2c62682991c8faa21&s=400">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Begodya">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/01/iOS/iOS App启动优化/" itemprop="url">iOS App启动优化</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-01T10:58:40+08:00">
                2017-08-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>T（App总启动时间）= T1（Main()之前的加载时间）+ T2（Main()之后的加载时间）</p>
<p>T1 = 系统dylib（动态链接库）和自身App可执行文件的加载</p>
<p>T2 = Main()方法执行之后到AppDelegat类中的<code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions</code>方法执行结束前的这段时间，主要是构建每一个页面，并完成渲染展示</p>
<h4 id="T1优化"><a href="#T1优化" class="headerlink" title="T1优化"></a>T1优化</h4><p>如何统计T1的耗时呢？苹果官方提供了一种方法，在真机调试的时候勾选<code>DYLD_PRINT_STATISTICS</code>选项，如下图所示：<br><img src="http://oqleb1k16.bkt.clouddn.com/17-8-1/11834328.jpg" alt=""></p>
<p>启动App后会得到如下形式的输出：<br><img src="http://oqleb1k16.bkt.clouddn.com/17-8-1/98374100.jpg" alt=""></p>
<p>现在来看看动态链接库加载的具体流程，分为四步：</p>
<ol>
<li>dylib loading</li>
<li>rebase/binding</li>
<li>ObjC setup</li>
<li>initializers</li>
</ol>
<h6 id="dylib-loading"><a href="#dylib-loading" class="headerlink" title="dylib loading"></a>dylib loading</h6><p>在每个动态库的加载过程中，dylib需要：</p>
<ol>
<li>分析所依赖的动态库</li>
<li>找到动态库的mach-o文件</li>
<li>打开文件</li>
<li>验证文件</li>
<li>在系统核心注册文件签名</li>
<li>对动态库的每一个segment调用mmap()</li>
</ol>
<p>通常，一个App需要加载100到400个dylibs，其中的系统库被优化，可以很快加载。针对这一步骤优化项如下：</p>
<ol>
<li>减少非系统库的依赖</li>
<li>合并非系统库</li>
<li>使用静态资源，比如把代码加入主程序</li>
</ol>
<h6 id="rebase-binding"><a href="#rebase-binding" class="headerlink" title="rebase/binding"></a>rebase/binding</h6><p>由于ASLR(address space layout randomization)的存在，可执行文件和动态链接库在虚拟内存中加载地址每次启动都不固定，所以需要这两步来修复镜像中的资源指针，来指向正确的地址。rebase修复的是指向当前镜像内部的资源指针；binding指向的是镜像外部的资源指针。</p>
<p>rebase步骤先进行，需要把镜像读入内存，并以page为单位加密验证，保证不会被篡改，所以这一步的瓶颈在IO。binding在其后进行，由于要查询符号表，来指向跨镜像的资源，加上在rebase阶段，镜像已经被读入和加密验证，所以这一步的瓶颈在于CPU计算。</p>
<p>通过命令行可以查看相关的资源指针：</p>
<p><code>xcrun dyldinfo -rebase -bind -lazy_bind /Users/BeiWang/Desktop/SZ/Production/iOS/ShanZhenV1.0.0\ 2016-08-03\ 16-12-15/ShanZhen/Payload/ShanZhen.app/ShanZhen</code></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-8-1/45743236.jpg" alt=""></p>
<p>优化该阶段的关键在于减少__DATA segment中的指针数量，可以优化的点有：</p>
<ol>
<li>减少ObjC类数量，减少selector数量</li>
<li>减少C++虚函数数量</li>
<li>转而使用swift struct（其实本质上就是减少符号的数量）</li>
</ol>
<h6 id="ObjC-setup"><a href="#ObjC-setup" class="headerlink" title="ObjC setup"></a>ObjC setup</h6><p>这一步的主要工作是：</p>
<ol>
<li>注册ObjC类</li>
<li>把category的定义插入方法列表</li>
<li>保证每一个selector唯一</li>
</ol>
<h6 id="initializers"><a href="#initializers" class="headerlink" title="initializers"></a>initializers</h6><p>以上三步属于静态调整，都是在修改 __DATA segment中的内容，而这里开始动态调整，开始在堆和堆栈中写入内容。在这里的工作有：</p>
<ol>
<li>ObjC的<code>+load()</code>函数</li>
<li>C++的构造函数属性函数</li>
<li>非基本类型的C++静态全局变量的创建（通常是类或结构体）</li>
</ol>
<p>总而言之，对于Main()调用之前的耗时可以优化的点如下：</p>
<ol>
<li>减少不必要的framework，因为动态链接比较耗时</li>
<li>check framework应当设为optional和required，如果该framework在当前App支持的所有iOS系统版本都存在，那么就设为required，否则设为optional，因为optional会有额外的检查</li>
<li>合并或删减一些OC类，可使用AppCode代码检查功能清理项目中没用到的类</li>
<li>删减一些无用的静态变量</li>
<li>删减没有被调用到或已经废弃的方法</li>
<li>将不必须在<code>+load()</code>方法中做的事情延迟到<code>+initialize()</code>中进行</li>
<li>尽量不要用C++虚函数（创建虚函数表有开销）</li>
</ol>
<h4 id="T2优化"><a href="#T2优化" class="headerlink" title="T2优化"></a>T2优化</h4><p>在Main()被调用之后，App的主要工作就是初始化必要的服务，显示首页内容等。App通常在AppDelegate类中的<code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions</code>方法中创建首页需要展示的View，然后在当前runloop的末尾，主要调用CA:Transaction:commit完成视图的渲染。而视图的渲染主要涉及四个阶段：</p>
<ol>
<li>准备阶段，主要是图片的解码</li>
<li>布局阶段，首页所有UIView的<code>- (void)layoutSubViews()</code>运行</li>
<li>绘制阶段，首页所有UIView的<code>- (void)drawRect:(CGRect)rect</code>运行</li>
<li>启动之后，必要服务的启动、必要数据的创建和读取</li>
</ol>
<p>因此，对于Main()函数调用之后可以优化的点如下：</p>
<ol>
<li>不使用xib，直接使用代码加载首页视图</li>
<li>每次用NSLog方式打印会隐式创建一个Calendar，因此需要删减启动时各业务方打的log，或仅仅针对内测版输出log</li>
<li>梳理应用启动时发送的所有网络请求，是否可以统一在异步线程中请求</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://begodya.com/2017/06/28/architecture/MVVM/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Bei Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars3.githubusercontent.com/u/4849945?v=3&u=2fc94e38699ed5ca25f46fe2c62682991c8faa21&s=400">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Begodya">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/28/architecture/MVVM/" itemprop="url">MVVM简析</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-28T16:19:53+08:00">
                2017-06-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h5 id="MVVM结构图"><a href="#MVVM结构图" class="headerlink" title="* MVVM结构图"></a>* MVVM结构图</h5><p><img src="http://oqleb1k16.bkt.clouddn.com/17-6-28/58010754.jpg" alt=""></p>
<p>MVVM除了由Model、View、View-Model组成外，还有一个非常重要的隐含组件Binder：</p>
<ol>
<li><p>Model：源数据（来自数据库、网络请求等）。</p>
</li>
<li><p>View：由View和Controller组成，负责UI展示，绑定ViewModel中的属性，触发View-Model中的命令以及呈现由ViewModel提供的数据。</p>
</li>
<li><p>View-Model：它的主要职责一是作为表现视图显示自身所需要的静态模型；二是收集、解释和转换这些数据。主要是从MVC的Controller中抽取出来的展示逻辑，负责从Model中获取View所需要的数据，转换成View可以展示的数据，并暴露公开的属性和命令供View进行绑定。</p>
</li>
<li><p>Binder：主要是实现View和ViewModel间的数据绑定。</p>
</li>
</ol>
<h5 id="MVVM与MVC联系"><a href="#MVVM与MVC联系" class="headerlink" title="* MVVM与MVC联系"></a>* MVVM与MVC联系</h5><p>根据MVC和MVVM的职责划分，图解更清晰地反映出实际开发中组件间的关系方法，视图区块尺寸大致可以理解成它们对应负责的工作量，可以看出ViewController和View-Model间有大块工作上的重合，也可以看出ViewController在MVVM中有一部分是和View重合的。</p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-6-28/47436687.jpg" alt=""></p>
<p>View-Model一词的确不能充分表达其职责，无法顾名思义。View Coordinator可能更好的表达View-Model的意图，View-Model从必要的资源（数据库、网络请求等）中获取原始数据，根据视图的展示逻辑，并处理成View(Controller)的展示数据。</p>
<p>View-Model存在的目的在于抽离ViewController中展示的业务逻辑，也就是MVC中C和MVVM中VM的重合部分，而不是替代ViewController。</p>
<p>MVVM动态变形：</p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-6-28/98200354.jpg" alt=""></p>
<p>MVVM最终形态：</p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-6-28/83426722.jpg" alt=""></p>
<h5 id="MVVM模块层级图"><a href="#MVVM模块层级图" class="headerlink" title="* MVVM模块层级图"></a>* MVVM模块层级图</h5><p><img src="http://oqleb1k16.bkt.clouddn.com/17-6-28/34399251.jpg" alt=""></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://begodya.com/2017/06/01/world/嵊泗/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Bei Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars3.githubusercontent.com/u/4849945?v=3&u=2fc94e38699ed5ca25f46fe2c62682991c8faa21&s=400">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Begodya">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/01/world/嵊泗/" itemprop="url">世界迷雾之嵊泗</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-01T14:24:56+08:00">
                2017-06-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>2017年5月29日，端午前夕，上海天气晴朗</p>
<h2 id="路线"><a href="#路线" class="headerlink" title="路线"></a>路线</h2><p>从南浦大桥集散地，乘车约一个半小时至沈家湾码头，再乘船约一个小时至李柱山码头。<br><img src="http://oqleb1k16.bkt.clouddn.com/17-6-1/79761278.jpg" alt=""></p>
<h2 id="酒店"><a href="#酒店" class="headerlink" title="酒店"></a>酒店</h2><p>李柱山码头位于嵊泗本岛的最北端，酒店在最南端，濒临南长途沙滩，两地相隔近十公里；吹着海风，看着海景也是相当宜人的。<br><img src="http://oqleb1k16.bkt.clouddn.com/17-6-1/96750842.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-6-1/71163196.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-6-1/43059808.jpg" alt=""></p>
<h2 id="山路"><a href="#山路" class="headerlink" title="山路"></a>山路</h2><p>小岛天气舒适，空气清新，海风阵阵，沿海山路干净整洁，植被繁茂。<br><img src="http://oqleb1k16.bkt.clouddn.com/17-6-1/77928929.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-6-1/7213467.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-6-1/93196142.jpg" alt=""></p>
<h2 id="基湖"><a href="#基湖" class="headerlink" title="基湖"></a>基湖</h2><p>嵊泗本岛有两处沙滩，基湖沙滩周边商业开发齐全，周边旅馆、餐饮、交通比较便利；而另一处南长途沙滩，尚在开发中，游客较少，周边的航海广场也是门可罗雀；不过两处沙滩相距也仅三四公里，步行三四十分钟即可到达。<br><img src="http://oqleb1k16.bkt.clouddn.com/17-6-1/6634964.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-6-1/60566947.jpg" alt=""></p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-6-1/66856448.jpg" alt=""></p>
<p>在嵊泗本岛环岛游两天，大多游客主要集中在菜园镇附近，是一个适合短期的休闲度假，放松心情的好去处~</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://begodya.com/2017/05/27/architecture/scrum/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Bei Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars3.githubusercontent.com/u/4849945?v=3&u=2fc94e38699ed5ca25f46fe2c62682991c8faa21&s=400">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Begodya">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/27/architecture/scrum/" itemprop="url">基于Scrum的App迭代管理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-27T09:49:35+08:00">
                2017-05-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>一般来说，App技术团队主要由服务端、前端、客户端、运维和数据组成，想要保持团队的高效协作，那么Scrum框架就是不二的选择。</p>
<blockquote>
<p>Scrum是一个用于开发和维护复杂产品的框架，是一个增量的、迭代的开发过程。在这个框架中，整个开发过程由若干个短的迭代周期组成，一个短的迭代周期称为一个Sprint，每个Sprint的建议长度是2到4周（互联网产品研发可以使用1周的Sprint）。在Scrum中，使用产品的Backlog来管理产品的需求，产品Backlog是一个按照商业价值排序的需求列表，列表条目的体现形式通常为用户故事。Scrum团队总是先开发对客户具有较高价值的需求。在Sprint中，Scrum团队从产品Backlog中挑选最高优先级的需求进行开发。挑选的需求在Sprint计划会议上经过讨论、分析和估算得到相应的任务列表，称为Sprint backlog。在每个迭代结束时，Scrum团队将递交潜在可交付的产品增量。Scrum起源于软件开发项目，但它适用于任何复杂的或是创新性的项目。</p>
<p>Scrum流程如下：<br><img src="http://oqleb1k16.bkt.clouddn.com/17-5-27/3415478.jpg" alt=""></p>
</blockquote>
<p>该流程要求在特定的一段时间内，输出确定的需求，在开发中需求尽量不要变更，开发人员快速完成开发。在一般情况下，App的Product Owner和Scrum Master都是产品经理（除了技术推动的一些优化需求），在大需求中涉及多端协同开发的功能会指定技术同事来负责沟通和协调。</p>
<p>一般App迭代周期为两周，发版也保持两周一更新。这样既能让用户对产品保持新鲜感，也不会让团队内部时间安排太过紧张。从每两周的周三开始一个新的Sprint，在新的Sprint的第二周开始中具体的需求讲解和评审，并在下周周三完成迭代。</p>
<p><strong>App迭代周期的重要时间点和大概流程如下：</strong><br><img src="http://oqleb1k16.bkt.clouddn.com/17-5-27/31049341.jpg" alt=""></p>
<p>在执行Sprint流程时，必要的沟通会议是不可或缺的。会议的预订可采用Google Calendar邀约，主要有以下三种固定会议：</p>
<ul>
<li>计划会议：规划下一个Sprint的开发任务。产品经理给开发人员讲解需求后，开发人员将需求拆解成子任务，并对任务时间进行评估。最后双方基于优先级和开发时间得到一个Sprint计划的开发任务列表。</li>
<li>每日站会：开发团队互相了解进度。主要关注：昨天做了什么，今天要做的任务，遇到的问题，需要协作的人员。会议一般简短，控制在十分钟以内，无需涉及太多细节。</li>
<li>回顾会议：总结和复盘开发过程中的问题。展示上一个Sprint的成果，回顾产品线上数据，讨论其中的非业务相关的问题，并讨论解决方案。</li>
</ul>
<p><strong>那么具体Scrum中是如何进行任务拆分的呢？</strong></p>
<p>产品经理和开发人员首先就需求实现的意义和可能性进行讨论，以便对需求进行筛选，然后对确定要开发的Task进行拆分。一般来说，涉及多端的大Task会拆分为UI Task、Server Task、Android Task、iOS Task、Web Task、及QA Task六大子任务，其中UI Task和Server Task可能会先行一周，给客户端和Web前端开发联调留足时间。</p>
<p>子Task被分配到具体技术组后，首先在组内会将子Task再次拆分为子任务，分发给开发Owner，一般以Point（1 Point代表一天）为单位来拆分出最小粒度单位，原则上被拆分的Task完成时间最好不超过2 Points；然后组内同事对开发Owner提出的设计方案进行评估，得出拆解完的子任务和对应的估点时间表；最后统计每个开发人员的开发总时间，再做任务上的合理调整。</p>
<p>任务拆分环节之后，开发人员会在下一个迭代进行功能开发。在整个Sprint开发过程中，开发人员在每日站会上同步每天的进度和棘手问题，把握现有的开发节奏。需求拆分基本流程如下：</p>
<p><img src="http://oqleb1k16.bkt.clouddn.com/17-5-27/27060166.jpg" alt=""></p>
<p>迭代完成后，会先在一周内进行内部测试和灰度测试。内部测试覆盖规模大致为500人，灰度测试覆盖规模增加到2000人，一方面验证内测的Bug是否被解决，另一方面避免遗漏概率低于0.1%的Bug。最后在下周二提交App Store和各大应用商店，iOS和Android同步上线。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://begodya.com/2017/05/25/books/guns-germs-and-steel/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Bei Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars3.githubusercontent.com/u/4849945?v=3&u=2fc94e38699ed5ca25f46fe2c62682991c8faa21&s=400">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Begodya">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/25/books/guns-germs-and-steel/" itemprop="url">《枪炮、病菌与钢铁》</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-25T19:02:40+08:00">
                2017-05-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="http://i1.piimg.com/588926/4127de6e002089fd.jpg" alt=""></p>
<p><strong>《枪炮、病菌与钢铁》</strong>是一部获得普利策奖的史学巨著，是由贾雷德·戴蒙德完成著作。不过这本历史书虽然起了这么一个名字，但它其实不是讲枪炮的历史，不是讲病菌的历史，也不是讲钢铁的历史，而是讲整个人类历史的前世今生。</p>
<p>在进入主题前，先讲一个小故事，1492年一个叫哥伦布的探险家从美国出发，经过漫长的海上航行，终于在欧洲西海岸登陆，开始了对欧洲人的疯狂屠杀和殖民，这就是史上著名的哥伦布发现欧洲新大陆的故事。这是我瞎编的，真实的历史和这个故事恰恰相反。哥伦布从欧洲来到美洲，开始对美洲原住民的疯狂屠杀以及殖民，不仅如此，就算让时间倒流，再让欧洲人和美洲、澳大利亚、非洲的原始部落较量一次，他们的命运也不会改变，一定是欧洲人征服了美洲、澳大得亚和非洲的原住民。</p>
<p><strong>那么为什么人类历史上，美洲人、澳大利亚人和非洲人不可能反过来去征服欧洲人？</strong></p>
<p><strong>为什么世界上不同的民族会有现在这样截然不同的命运？</strong> </p>
<p><strong>难道真是种族或者文化优劣造成的吗？</strong></p>
<p>这本书会通过遗传学、分子生物学、流行病学等学科的研究方法，告诉我们人类为什么会发展成今天这个格局。关于不同民族发展水平的差距，以往的解释包括：社会制度、武器装备、航海技术、流行病、语言文字等等。但本书的作者戴蒙德认为，这些都不是最根本的原因，所有这些文明要素的产生，都有一个共同的先决条件，那就是采取粮食生产的生活方式，也就是农业文明，包括定居、有意识地驯化植物及驯养动物。具体来说，和此前狩猎采集的生活方式相比，定居和充足的食物，可以在单位面积的土地上养活更多的人口，从而形成更加复杂，更加便于组织生产和战争的社会制度，更多的人口生产出更多的粮食，从而可以养活专门的技术人才，比如军人、发明家、武器工匠、抄写员、神职人员等等，而不必人人都去搞生产，被驯化的动物不仅提供充足的蛋白质，而且战马直到一战前都是战争中重要的工具。除此以外，驯化动物的民族还发展出了对动物身上病菌的免疫力，而这些病菌的威力可比刀枪要厉害得多。大多数被征服的采猎民族，不是死于战争本身，而是死于征服者带来的流行病。总而言之，粮食生产决定了文明进步。</p>
<p><strong>人类历史上，所有征服者对被征服者的胜利，本质上就是农业对采猎，以及农民对猎人的胜利。但问题是，为什么一些民族率先开始了农业文明，并且成为征服者，而另一些民族却始终没有，或者很晚才开始粮食生产呢？</strong></p>
<p>作者认为，这绝不是种族优劣造成的。人种生物学研究证明，狩猎采集人群非常了解当地的物种，而且至少和工业文明中的族群一样聪明。这些采猎民族之所以逐渐落后于农业民族，是因为他们处于非常不利的自然环境中，比如在可驯化的植物方面，考古证据证明，最早出现粮食生产的新月沃地，本身就有很多极容易驯化的优质野生植物品种，而在气候、土壤都适合的农耕的美国东部，由于缺乏优质的野生植物品种，种地并不能比采集得到更多的食物，因此这里的文件繁荣比新月沃地晚了整整9000年，在可驯化的动物方面，20世经前被驯化的大型食草哺乳动物只有14种，而欧亚大陆非常幸运，天然就拥有这其中的13种动物，特别是其中的牛、马等动物，还可以帮人们耕地。相比之下，由于人类到来后，大规模的物种灭绝，南美大陆上可驯化的大型哺乳动物就只有羊驼这一种，而且还不能耕地、也不能打仗。非洲南部、北美和澳大利亚更惨，连一种也没有。此外，不同大陆的地理环境，也造成了粮食生产的不同传播速度。欧亚大陆横向延伸，气候、地形差异小，因此新月沃地驯化出的作物，仅仅用3000年的时间就横扫了西至西班牙，东至印度河流域的广阔地区，而美洲和非洲大陆都是纵向延伸，纬度差异、海拔差异以及沙漠地带，使撒哈拉南北以及墨西哥南北的民族长期隔绝。同样是3000年的时间，来自墨西哥的玉米才刚刚传播到了就在隔壁的美国东部，这种自然环境的差异，除了影响到粮食生产，也阻碍了社会制度、文字、冶金技术以及轮子等很多文明要素的传播，使不同民族的发展差距越来越大，也就是说，一个民族的命运，不是单靠自我奋斗就能决定的，他们所在的自然环境早就注定了他们在几千年后将会成为征服者还是被征服者。</p>
<p>当然作者并不是说，粮食生产就一定优于狩猎采集，实际上农民比采集者的工作时间更长，平均寿命却更短，但一种无意间向全新生活方式的缓慢转弯，最终还是引发了各个层面的连锁效应，使一些民族创造出所谓的“文明”，而另一些民族被贴上了“野蛮”、“落后”的标签，这的确就是我们人类如何走到今天的故事。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://begodya.com/2017/05/25/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Bei Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars3.githubusercontent.com/u/4849945?v=3&u=2fc94e38699ed5ca25f46fe2c62682991c8faa21&s=400">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Begodya">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/25/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-25T15:56:28+08:00">
                2017-05-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://avatars3.githubusercontent.com/u/4849945?v=3&u=2fc94e38699ed5ca25f46fe2c62682991c8faa21&s=400"
               alt="Bei Wang" />
          <p class="site-author-name" itemprop="name">Bei Wang</p>
           
              <p class="site-description motion-element" itemprop="description">『修身养性，寻找灵感』</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/begodya" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/begodya" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/3096695943/profile?topnav=1&wvr=6&is_all=1" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Bei Wang</span>
</div>



        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  

</body>
</html>
